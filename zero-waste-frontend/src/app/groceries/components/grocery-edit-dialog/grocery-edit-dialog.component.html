<h1 mat-dialog-title>{{ isEdit ? 'Edit' : 'Add' }} Grocery Item</h1>
<div mat-dialog-content>
  <form [formGroup]="groceryForm">
    <div class="form-group">
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" placeholder="Item name">
        <mat-error *ngIf="groceryForm.get('name')?.invalid">Name is required</mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline" class="quantity-field">
        <mat-label>Quantity</mat-label>
        <input matInput type="number" formControlName="quantity" min="0.1" step="0.1">
        <mat-error *ngIf="groceryForm.get('quantity')?.invalid">Valid quantity required</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="unit-field">
        <mat-label>Unit</mat-label>
        <input matInput formControlName="unit" placeholder="kg, L, etc">
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field appearance="outline">
        <mat-label>Expiry Date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="expiryDate">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error *ngIf="groceryForm.get('expiryDate')?.invalid">Date is required</mat-error>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-label>Storage Location</mat-label>
      <mat-radio-group formControlName="storageLocation">
        <mat-radio-button value="fridge">Fridge</mat-radio-button>
        <mat-radio-button value="pantry">Pantry</mat-radio-button>
        <mat-radio-button value="freezer">Freezer</mat-radio-button>
      </mat-radio-group>
    </div>
  </form>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="dialogRef.close()">Cancel</button>
  <button 
    mat-raised-button 
    color="primary" 
    (click)="onSubmit()" 
    [disabled]="groceryForm.invalid || loading">
    {{ isEdit ? 'Update' : 'Save' }}
  </button>
</div>