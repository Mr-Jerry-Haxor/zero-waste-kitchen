import{a as fe}from"./chunk-IYYYGPIS.js";import{c as ge}from"./chunk-R6HSGQMS.js";import{d as ve}from"./chunk-KQIXHO63.js";import{j as he}from"./chunk-TU25NA76.js";import{a as h,l as ye,m as _e}from"./chunk-LRXY6OD2.js";import{b as ie,c as oe,d as re,e as I,f as ae,i as se,k as ce,l as le,m as de,n as pe,o as me,r as O,xa as ue}from"./chunk-FXEP3DK6.js";import{f as Ae,g as v,h as P,m as Ce,n as N,p as Me,u as xe}from"./chunk-GWSD2VBY.js";import{$ as y,$b as s,Bb as $,Ec as b,F as V,Ib as r,Jb as a,Ka as g,Kb as u,Na as C,Nc as ee,Ob as j,Pc as te,Qb as x,Rb as S,Tc as ne,Z as B,ac as K,bb as c,bc as q,ca as U,ea as _,eb as M,fa as f,gb as T,hb as Z,ia as W,jc as X,kc as J,na as E,nb as m,oa as R,pc as Q,s as z,sb as H,ta as Y,wa as G,za as A,zb as d}from"./chunk-56SOJHVL.js";var Se=(n,t)=>!0;var be=[{path:"",redirectTo:"groceries",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-6SBQUBFM.js").then(n=>n.AuthModule),canActivate:[Se]},{path:"groceries",loadChildren:()=>import("./chunk-UD6GN354.js").then(n=>n.GroceriesModule),canActivate:[h]},{path:"receipts",loadChildren:()=>import("./chunk-MCNKNOD5.js").then(n=>n.ReceiptsModule),canActivate:[h]},{path:"recipes",loadChildren:()=>import("./chunk-5HAW6DA2.js").then(n=>n.RecipesModule),canActivate:[h]},{path:"admin",loadChildren:()=>import("./chunk-4U62U3WJ.js").then(n=>n.AdminModule),canActivate:[h]},{path:"**",redirectTo:"groceries"}];var Ee=(()=>{class n extends N{constructor(e,i,o){super(e,i,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(_(b),_(v),_(P))};static \u0275prov=y({token:n,factory:n.\u0275fac})}return n})();function Re(){return new Ce}function Te(n,t,e){return new xe(n,t,e)}var Ie=[{provide:P,useFactory:Re},{provide:N,useClass:Ee},{provide:M,useFactory:Te,deps:[I,N,A]}],dt=[{provide:v,useClass:Ae},{provide:g,useValue:"NoopAnimations"},...Ie],He=[{provide:v,useFactory:()=>new Me},{provide:g,useFactory:()=>"BrowserAnimations"},...Ie];function Oe(){return C("NgEagerAnimations"),[...He]}var Pe=(n,t)=>{console.log("[AuthInterceptor] Intercepting request:",n.url);let i=f(O).getToken();if(i){console.log("[AuthInterceptor] Adding auth token to request");let o=n.clone({setHeaders:{Authorization:`Bearer ${i}`}});return t(o)}return t(n)};var Ne=(n,t)=>t(n).pipe(V(e=>(console.error("HTTP Error:",e),z(()=>e))));var je="@",Le=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=f(Y);loadingSchedulerFn=f(ze,{optional:!0});_engine;constructor(e,i,o,l,p){this.doc=e,this.delegate=i,this.zone=o,this.animationType=l,this.moduleImpl=p}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-S2ZHWRA6.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(o=>{throw new B(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:l})=>{this._engine=o(this.animationType,this.doc);let p=new l(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new L(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let ke=p.createRenderer(e,i);l.use(ke),this.scheduler??=this.injector.get(G,null,{optional:!0}),this.scheduler?.notify(10)}).catch(p=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){Z()};static \u0275prov=y({token:n,factory:n.\u0275fac})}return n})(),L=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,o){this.delegate.insertBefore(t,e,i,o)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.shouldReplay(e)&&this.replay.push(l=>l.listen(t,e,i,o)),this.delegate.listen(t,e,i,o)}shouldReplay(t){return this.replay!==null&&t.startsWith(je)}},ze=new U("");function Fe(n="animations"){return C("NgAsyncAnimations"),W([{provide:M,useFactory:(t,e,i)=>new Le(t,e,i,n),deps:[b,I,A]},{provide:g,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var we={providers:[Q({eventCoalescing:!0,runCoalescing:!0}),pe(be,me(de)),ie(oe([Pe,Ne])),Oe(),Fe(),he,ve,ge,{provide:ue,useValue:{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}}]};function Ve(n,t){n&1&&(r(0,"li")(1,"a",9),s(2,"Groceries"),a()())}function Be(n,t){n&1&&(r(0,"li")(1,"a",10),s(2,"Receipts"),a()())}function Ue(n,t){n&1&&(r(0,"li")(1,"a",11),s(2,"Recipes"),a()())}function We(n,t){n&1&&(r(0,"li")(1,"a",12),s(2,"Admin"),a()())}function Ye(n,t){if(n&1){let e=j();r(0,"li")(1,"button",13),x("click",function(){E(e);let o=S();return R(o.logout())}),s(2,"Logout"),a()()}}function Ge(n,t){n&1&&(r(0,"li")(1,"a",14),s(2,"Login"),a()())}function Ze(n,t){n&1&&(r(0,"li")(1,"a",15),s(2,"Register"),a()())}function $e(n,t){if(n&1){let e=j();r(0,"div",16)(1,"button",17),x("click",function(){E(e);let o=S();return R(o.toggleNotifications())}),r(2,"mat-icon"),s(3),X(4,"async"),a()()()}if(n&2){let e=S();c(3),K(J(4,1,e.notificationsEnabled$)?"notifications_active":"notifications_off")}}var w=class n{constructor(t,e){this.authService=t;this.notificationService=e;this.notificationsEnabled$=this.notificationService.getNotificationStatus()}isMenuOpen=!1;isAdmin=!1;notificationsEnabled$;adminSubscription;ngOnInit(){this.authService.isAuthenticated()&&this.authService.checkAdminStatus().subscribe(),this.adminSubscription=this.authService.isAdmin$().subscribe(t=>{this.isAdmin=t})}ngOnDestroy(){this.adminSubscription&&this.adminSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}toggleNotifications(){}logout(){this.authService.logout(),this.isMenuOpen=!1}static \u0275fac=function(e){return new(e||n)(T(O),T(fe))};static \u0275cmp=m({type:n,selectors:[["app-header"]],decls:18,vars:10,consts:[[1,"header"],[1,"container"],["routerLink","/",1,"logo"],[1,"nav"],[1,"nav-list"],[4,"ngIf"],["class","notification-toggle",4,"ngIf"],[1,"menu-toggle",3,"click"],[1,"bar"],["routerLink","/groceries","routerLinkActive","active"],["routerLink","/receipts","routerLinkActive","active"],["routerLink","/recipes","routerLinkActive","active"],["routerLink","/admin","routerLinkActive","active"],[1,"logout-btn",3,"click"],["routerLink","/auth/login","routerLinkActive","active"],["routerLink","/auth/register","routerLinkActive","active"],[1,"notification-toggle"],["mat-icon-button","",3,"click"]],template:function(e,i){e&1&&(r(0,"header",0)(1,"div",1)(2,"a",2),s(3,"Zero Waste"),a(),r(4,"nav",3)(5,"ul",4),H(6,Ve,3,0,"li",5)(7,Be,3,0,"li",5)(8,Ue,3,0,"li",5)(9,We,3,0,"li",5)(10,Ye,3,0,"li",5)(11,Ge,3,0,"li",5)(12,Ze,3,0,"li",5),a()(),H(13,$e,5,3,"div",6),r(14,"button",7),x("click",function(){return i.toggleMenu()}),u(15,"span",8)(16,"span",8)(17,"span",8),a()()()),e&2&&(c(4),$("active",i.isMenuOpen),c(2),d("ngIf",i.authService.isAuthenticated()),c(),d("ngIf",i.authService.isAuthenticated()),c(),d("ngIf",i.authService.isAuthenticated()),c(),d("ngIf",i.isAdmin),c(),d("ngIf",i.authService.isAuthenticated()),c(),d("ngIf",!i.authService.isAuthenticated()),c(),d("ngIf",!i.authService.isAuthenticated()),c(),d("ngIf",i.authService.isAuthenticated()))},dependencies:[ne,ee,te,ce,le,_e,ye],styles:[".header[_ngcontent-%COMP%]{background-color:#2e7d32;color:#fff;padding:1rem 0;position:sticky;top:0;z-index:1000;box-shadow:0 2px 4px #0000001a}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;padding:0 1rem}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.nav-list[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1.5rem}.nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:500;transition:opacity .3s}.nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:4px}.logout-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-weight:500;cursor:pointer;padding:0;font-family:inherit;font-size:inherit}.logout-btn[_ngcontent-%COMP%]:hover{opacity:.8}.menu-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;cursor:pointer;padding:.5rem}.bar[_ngcontent-%COMP%]{display:block;width:25px;height:3px;background-color:#fff;margin:5px 0;transition:all .3s ease}@media (max-width: 768px){.menu-toggle[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]{position:fixed;top:70px;left:0;width:100%;background-color:#2e7d32;padding:1rem;box-shadow:0 4px 6px #0000001a;transform:translateY(-150%);transition:transform .3s ease-in-out}.nav.active[_ngcontent-%COMP%]{transform:translateY(0)}.nav-list[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}"]})};var D=class n{currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-footer"]],decls:11,vars:1,consts:[[1,"footer"],[1,"container"],[1,"links"],["href","#"]],template:function(e,i){e&1&&(r(0,"footer",0)(1,"div",1)(2,"p"),s(3),a(),r(4,"div",2)(5,"a",3),s(6,"Privacy Policy"),a(),r(7,"a",3),s(8,"Terms of Service"),a(),r(9,"a",3),s(10,"Contact Us"),a()()()()),e&2&&(c(3),q("\xA9 ",i.currentYear," Zero-Waste Kitchen. All rights reserved."))},styles:[".footer[_ngcontent-%COMP%]{background-color:var(--dark-color);color:var(--light-text);padding:2rem 0;margin-top:2rem}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center}.links[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text);text-decoration:none;transition:opacity .3s}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.links[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}"]})};var k=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"app-container"],[1,"main-content"]],template:function(e,i){e&1&&(r(0,"div",0),u(1,"app-header"),r(2,"main",1),u(3,"router-outlet"),a(),u(4,"app-footer"),a())},dependencies:[se,w,D,re],styles:["[_ngcontent-%COMP%]:root{--primary-color: #4CAF50;--secondary-color: #2E7D32;--accent-color: #8BC34A;--light-color: #F1F8E9;--dark-color: #1B5E20;--danger-color: #F44336;--warning-color: #FFC107;--text-color: #333;--light-text: #fff;--shadow: 0 4px 6px rgba(0, 0, 0, .1);--border-radius: 8px}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem;max-width:1200px;margin:0 auto;width:100%}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding:1rem}}"]})};ae(k,we).catch(n=>console.error(n));
