import{a as Se}from"./chunk-MRXH3W7A.js";import{b as Pe,c as Le,d as Ee,e as N}from"./chunk-NPZMTJMT.js";import{a as Oe,b as B,c as De,d as T}from"./chunk-CYJGG3NU.js";import{e as _e,i as E}from"./chunk-E7WTVJ5U.js";import{a as G,b as I}from"./chunk-HOC2NKVJ.js";import{a as O,b as D,c as P,d as ue,f as L,g as b,h as Ce,j as xe,k as he,l as Re,m as be,n as ye,o as k,p as F,r as Ie}from"./chunk-3CFGV5AN.js";import{a as de,d as Me,j as ve,l as w,m as y}from"./chunk-PHE6MIZK.js";import{Fa as fe,Ja as ge,Sa as S,a as ae,aa as R,ba as g,h as pe,k as ce,p as f,q as me,ya as le,za as se}from"./chunk-MSIW5YYR.js";import{$ as K,$b as r,F as J,Ib as o,Jb as n,Jc as re,Kb as v,Mc as x,Nc as h,Qb as _,Rb as Z,Tc as d,aa as Q,ac as C,bb as a,bc as s,dc as ee,ea as V,ec as te,fc as ie,gb as m,gc as ne,ic as oe,nb as M,ob as X,s as z,sb as l,v as Y,zb as c}from"./chunk-56SOJHVL.js";var u=class i{constructor(t){this.http=t}apiUrl=`${me.apiUrl}/recipes`;generateRecipes(t=""){return this.http.post(`${this.apiUrl}/generate`,{cuisine:t})}getAllRecipes(){return this.http.get(this.apiUrl).pipe(Y(t=>t.recipes),J(t=>(console.error("Failed to load recipes",t),z(()=>t))))}getRecipeById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(Y(e=>e.recipe),J(e=>(console.error("Failed to load recipe",e),z(()=>e))))}static \u0275fac=function(e){return new(e||i)(V(ae))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ge(i,t){if(i&1&&(o(0,"mat-option",9),r(1),n()),i&2){let e=t.$implicit;c("value",e),a(),s(" ",e," ")}}function Ne(i,t){i&1&&(o(0,"span"),r(1,"Generate"),n())}function je(i,t){i&1&&v(0,"mat-spinner",10)}var A=class i{constructor(t,e,p){this.dialogRef=t;this.recipeService=e;this.snackBar=p}cuisine="";isLoading=!1;cuisines=["Any","Italian","Mexican","Indian","Chinese","Japanese","Mediterranean","American","Thai","French"];generateRecipes(){this.isLoading=!0,this.recipeService.generateRecipes(this.cuisine==="Any"?"":this.cuisine).subscribe({next:()=>{this.snackBar.open("Recipes generated successfully!","Close",{duration:3e3}),this.dialogRef.close(!0)},error:t=>{console.error("Failed to generate recipes",t),this.snackBar.open("Failed to generate recipes","Close",{duration:3e3}),this.isLoading=!1}})}static \u0275fac=function(e){return new(e||i)(m(Ce),m(u),m(le))};static \u0275cmp=M({type:i,selectors:[["app-recipe-generate-dialog"]],decls:16,vars:5,consts:[["mat-dialog-title",""],["appearance","outline",1,"full-width"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],[3,"value"],["diameter","20"]],template:function(e,p){e&1&&(o(0,"h2",0),r(1,"Generate Recipes"),n(),o(2,"mat-dialog-content")(3,"p"),r(4,"Generate recipes based on the groceries you currently have."),n(),o(5,"mat-form-field",1)(6,"mat-label"),r(7,"Cuisine Preference"),n(),o(8,"mat-select",2),ne("ngModelChange",function(W){return ie(p.cuisine,W)||(p.cuisine=W),W}),l(9,Ge,2,2,"mat-option",3),n()()(),o(10,"mat-dialog-actions",4)(11,"button",5),r(12,"Cancel"),n(),o(13,"button",6),_("click",function(){return p.generateRecipes()}),l(14,Ne,2,0,"span",7)(15,je,1,0,"mat-spinner",8),n()()),e&2&&(a(8),te("ngModel",p.cuisine),a(),c("ngForOf",p.cuisines),a(4),c("disabled",p.isLoading),a(),c("ngIf",!p.isLoading),a(),c("ngIf",p.isLoading))},dependencies:[d,x,h,S,fe,ge,F,ve,Me,B,Oe,_e,E,g,R,T,De,k,he,Re,ye,be],styles:[".full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 8px}"]})};var We=i=>["/recipes",i];function ze(i,t){i&1&&v(0,"mat-progress-bar",7)}function Ye(i,t){i&1&&(o(0,"div",8)(1,"mat-icon"),r(2,"restaurant_menu"),n(),o(3,"p"),r(4,"No recipes yet. Generate some based on your groceries!"),n()())}function Je(i,t){if(i&1&&(o(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title"),r(3),n(),o(4,"mat-card-subtitle"),r(5),n()(),o(6,"mat-card-content")(7,"p"),r(8),n()()()),i&2){let e=t.$implicit;c("routerLink",oe(6,We,e.id)),a(3),C(e.title),a(2),ee(" ",e.cuisine," \u2022 ",e.difficulty," \u2022 ",e.prep_time+e.cook_time," min "),a(3),C(e.ingredients.split(`
`).slice(0,3).join(" \u2022 "))}}var $=class i{constructor(t,e){this.recipeService=t;this.dialog=e}recipes=[];isLoading=!0;ngOnInit(){this.loadRecipes()}loadRecipes(){this.isLoading=!0,this.recipeService.getAllRecipes().subscribe({next:t=>{this.recipes=t,this.isLoading=!1},error:t=>{console.error("Failed to load recipes",t),this.isLoading=!1}})}openGenerateDialog(){this.dialog.open(A,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.loadRecipes()})}static \u0275fac=function(e){return new(e||i)(m(u),m(xe))};static \u0275cmp=M({type:i,selectors:[["app-recipe-list"]],decls:12,vars:3,consts:[[1,"recipe-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click"],["mode","indeterminate",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"recipe-grid"],[3,"routerLink",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"empty-state"],[3,"routerLink"]],template:function(e,p){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Your Recipes"),n(),o(4,"button",2),_("click",function(){return p.openGenerateDialog()}),o(5,"mat-icon"),r(6,"auto_awesome"),n(),r(7," Generate Recipes "),n()(),l(8,ze,1,0,"mat-progress-bar",3)(9,Ye,5,0,"div",4),o(10,"div",5),l(11,Je,9,8,"mat-card",6),n()()),e&2&&(a(8),c("ngIf",p.isLoading),a(),c("ngIf",!p.isLoading&&p.recipes.length===0),a(2),c("ngForOf",p.recipes))},dependencies:[d,x,h,b,O,P,L,ue,D,g,R,y,w,I,G,f,ce],styles:[".recipe-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;text-align:center;color:#0000008a}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.recipe-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}mat-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease}mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 10px #0000001a}mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;margin:0}@media (max-width: 600px){.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.recipe-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function qe(i,t){i&1&&v(0,"mat-progress-bar",4)}function Ke(i,t){if(i&1&&(o(0,"mat-list-item"),r(1),n()),i&2){let e=t.$implicit;a(),s(" ",e," ")}}function Qe(i,t){if(i&1&&(o(0,"li"),r(1),n()),i&2){let e=t.$implicit;a(),C(e)}}function Ve(i,t){if(i&1&&(o(0,"div",5)(1,"div",6)(2,"h1"),r(3),n(),o(4,"div",7)(5,"span")(6,"mat-icon"),r(7,"schedule"),n(),r(8),n(),o(9,"span")(10,"mat-icon"),r(11,"restaurant"),n(),r(12),n(),o(13,"span")(14,"mat-icon"),r(15,"public"),n(),r(16),n(),o(17,"span")(18,"mat-icon"),r(19,"speed"),n(),r(20),n()()(),o(21,"div",8)(22,"mat-card",9)(23,"mat-card-header")(24,"mat-card-title"),r(25,"Ingredients"),n()(),o(26,"mat-card-content")(27,"mat-list"),l(28,Ke,2,1,"mat-list-item",10),n()()(),o(29,"mat-card",11)(30,"mat-card-header")(31,"mat-card-title"),r(32,"Instructions"),n()(),o(33,"mat-card-content")(34,"ol"),l(35,Qe,2,1,"li",10),n()()()()()),i&2){let e=Z();a(3),C(e.recipe.title),a(5),s(" ",e.recipe.prep_time+e.recipe.cook_time," min"),a(4),s(" ",e.recipe.servings," servings"),a(4),s(" ",e.recipe.cuisine,""),a(4),s(" ",e.recipe.difficulty,""),a(8),c("ngForOf",e.recipe.ingredients.split(`
`)),a(7),c("ngForOf",e.recipe.instructions.split(`
`))}}var H=class i{constructor(t,e,p){this.route=t;this.recipeService=e;this.location=p}recipe=null;isLoading=!0;ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadRecipe(parseInt(t,10))}loadRecipe(t){this.isLoading=!0,this.recipeService.getRecipeById(t).subscribe({next:e=>{this.recipe=e,this.isLoading=!1},error:e=>{console.error("Failed to load recipe",e),this.isLoading=!1}})}goBack(){this.location.back()}static \u0275fac=function(e){return new(e||i)(m(pe),m(u),m(re))};static \u0275cmp=M({type:i,selectors:[["app-recipe-detail"]],decls:7,vars:2,consts:[[1,"recipe-detail-container"],["mat-button","",1,"back-button",3,"click"],["mode","indeterminate",4,"ngIf"],["class","recipe-content",4,"ngIf"],["mode","indeterminate"],[1,"recipe-content"],[1,"recipe-header"],[1,"recipe-meta"],[1,"recipe-sections"],[1,"ingredients-card"],[4,"ngFor","ngForOf"],[1,"instructions-card"]],template:function(e,p){e&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return p.goBack()}),o(2,"mat-icon"),r(3,"arrow_back"),n(),r(4," Back to Recipes "),n(),l(5,qe,1,0,"mat-progress-bar",2)(6,Ve,36,7,"div",3),n()),e&2&&(a(5),c("ngIf",p.isLoading),a(),c("ngIf",p.recipe&&!p.isLoading))},dependencies:[d,x,h,g,R,y,w,I,G,b,O,P,L,D,N,Le,Ee,f],styles:[".recipe-detail-container[_ngcontent-%COMP%]{padding:24px;max-width:1000px;margin:0 auto}.back-button[_ngcontent-%COMP%]{margin-bottom:16px}.recipe-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.recipe-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.recipe-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;color:#0009}.recipe-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.recipe-meta[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.recipe-sections[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;gap:24px}.ingredients-card[_ngcontent-%COMP%], .instructions-card[_ngcontent-%COMP%]{height:100%}mat-list-item[_ngcontent-%COMP%]{height:auto!important;padding:8px 0}ol[_ngcontent-%COMP%]{padding-left:20px;margin:0}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0}@media (max-width: 800px){.recipe-sections[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Xe=[{path:"",component:$,canActivate:[de]},{path:":id",component:H}],Be=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=X({type:i});static \u0275inj=Q({imports:[d,f,S,f.forChild(Xe),b,g,k,Ie,B,T,I,y,Pe,N,se,F,E,Se,f]})};export{Be as RecipesModule};
